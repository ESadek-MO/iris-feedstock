{% set version = "2.0.0" %}

package:
  name: iris
  version: {{ version }}

source:
  url: https://github.com/SciTools/iris/archive/v{{ version }}.tar.gz
  sha256: 8605ab92c67d622e83fff6d7169fe154d9f8610edd8463b697b574884c158ba2
  patches:
    # Issue reported in https://github.com/SciTools/iris/issues/2004.
    # We work around this in build.sh.
    - no_compile_setup.patch  # [osx]

build:
  number: 0

requirements:
  build:
    - python
    - pip
    - cartopy
    - cf_units
    - dask >=0.15.0
    - numpy
    - pyke
    - scipy
    - six
  run:
    - python
    - cartopy
    - cf_units
    - dask >=0.15.0
    - matplotlib <1.9
    - netcdf4
    - numpy
    - pyke
    - scipy
    - six

test:
  imports:
    - iris
    - iris.fileformats._pyke_rules.compiled_krb

about:
  home: http://www.scitools.org.uk/iris
  license: GPL3
  license_family: GPL3
  license_file: README.md
  summary: 'Analyse and visualise meteorological and oceanographic data sets.'

extra:
  recipe-maintainers:
    - pelson
    - rhattersley
    - ocefpaf
    - bjlittle
